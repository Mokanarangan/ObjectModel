!function(a){function b(a){return"function"==typeof a}function c(a,b){if(void 0===b&&(b=1),null==a)return String(a);if("string"==typeof a)return'"'+a+'"';if("function"==typeof a)return a.name||a.toString(b);if(Array.isArray(a))return"["+a.map(function(a){return c(a,b)}).join(", ")+"]";if(a&&"object"==typeof a){var d=new Array(b).join("	");return"{"+Object.keys(a).map(function(e){return"\n	"+d+e+": "+c(a[e],b+1)}).join(",")+"\n"+d+"}"}return String(a)}function d(a){return{}.toString.call(a).match(/\s([a-zA-Z]+)/)[1]}function e(a){return Array.prototype.slice.call(a)}function f(a,b,c){if(b instanceof Object)for(var d in b)b.hasOwnProperty(d)&&(a.hasOwnProperty(d)?a[d]instanceof Object?f(a[d],b[d],c):c&&(a[d]=b[d]):a[d]=b[d]);return a}function g(a,b,e){var f=b;if(Array.isArray(b)?f.length<2&&(f=b.concat(void 0)):f=[b],!f.some(function(b){return h(a,b)}))throw new TypeError("expecting "+e+" to be "+f.map(c).join(" or ")+", got "+(null!=a?d(a)+" ":"")+c(a))}function h(a,c){return null==a?a===c:b(c)&&b(c.isValidModelFor)?c.isValidModelFor(a):c instanceof RegExp?c.test(a):a===c||b(c)&&a instanceof c||a.constructor===c}function i(a,b){var d=function(b){if(!(this instanceof d))return new d(b);f(this,b,!0);var c=k(this,a);return l(c,a),c};return d.extend=function(b){return new i(f(b||{},a),d.prototype)},d.defaults=function(a){return d.prototype=a,this},d.toString=c.bind(this,a),d.prototype=Object.create(b||Object.prototype),d.prototype.constructor=d,Object.setPrototypeOf(d,i.prototype),d}function j(a){return"object"!=typeof a||Array.isArray(a)||a instanceof RegExp}function k(a,b,c){if(b instanceof i.Function)return b(a);if(j(b))return g(a,b,c),a;var d=a instanceof Object?a:Object.create(null),e=Object.create(Object.getPrototypeOf(d));return Object.keys(b).forEach(function(a){var f=c?[c,a].join("."):a,g=a.toUpperCase()!=a;Object.defineProperty(e,a,{get:function(){return k(d[a],b[a],f)},set:function(c){if(!g&&void 0!==d[a])throw new TypeError("cannot redefine constant "+a);var e=k(c,b[a],f);j(b[a])||l(e,b[a],f),d[a]=e},enumerable:"_"!==a[0]})}),e}function l(a,b,c){j(b)?g(a,b,c):Object.keys(b).forEach(function(d){var e=c?[c,d].join("."):d;l(a instanceof Object?a[d]:void 0,b[d],e)})}function m(a,b,c){var d=Object.create(a);return p.forEach(function(a){Object.defineProperty(d,a,{configurable:!0,value:function(){var e=b.slice();Array.prototype[a].apply(e,arguments),o(e,c);var f=Object.keys(e).filter(function(a){return!(a in d)});return n(d,b,f,c.item),Array.prototype[a].apply(b,arguments)}})}),n(d,b,Object.keys(b),c.item),Object.defineProperty(d,"length",{enumerable:!1,get:function(){return b.length}}),d}function n(a,b,c,d){c.forEach(function(c){Object.defineProperty(a,c,{get:function(){return b[c]},set:function(a){g(a,d,"Array["+c+"]"),b[c]=a}})})}function o(a,b,c){if(a.forEach(function(a,c){g(a,b.item,"Array["+c+"]")}),a.length<b.min||a.length>b.max)throw new TypeError("expecting "+(c||"Array")+" to have "+(b.min===b.max?b.min:"between"+b.min+" and "+b.max)+" items, got "+a.length)}i.prototype=Object.create(Function.prototype),i.prototype.isValidModelFor=function(a){try{return new this(a),!0}catch(b){if(b instanceof TypeError)return!1;throw b}};var p=["pop","push","reverse","shift","sort","splice","unshift"];i.Array=function q(a){var b={item:a,min:0,max:1/0},d=function(){var a=e(arguments);return this instanceof d?(o(a,b),m(this,a,b)):new(Function.prototype.bind.apply(d,[null].concat(a)))};return d.min=function(a){return b.min=a,this},d.max=function(a){return b.max=a,this},d.extend=function(a){var c=new q([].concat(b.item).concat(a||[]));return c.prototype=Object.create(d.prototype),c.prototype.constructor=c,c},d.isValidModelFor=function(a){try{return this.apply(null,a),!0}catch(b){if(b instanceof TypeError)return!1;throw b}},d.toString=function(d){var e="ArrayModel("+c(a,d)+")";return b.min<0&&(e+=".min("+b.min+")"),b.max<1/0&&(e+=".max("+b.max+")"),e},d.prototype=Object.create(Array.prototype),d.prototype.constructor=d,Object.setPrototypeOf(d,q.prototype),d},i.Array.prototype=Object.create(i.prototype),i.Function=function r(){var a={args:e(arguments)},d=function(b){if(!(this instanceof d))return new d(b);var h=function(){var d=f(e(arguments),a.defaults);if(d.length!==a.args.length)throw new TypeError("expecting "+c(b)+" to be called with "+a.args.length+" arguments, got "+d.length);a.args.forEach(function(a,b){g(d[b],a,"arguments["+b+"]")});var h=b.apply(this,d);return"return"in a&&g(h,a["return"],"return value"),h};return Object.setPrototypeOf(h,d.prototype),h};return d["return"]=function(b){return a["return"]=b,this},d.defaults=function(){return a.defaults=e(arguments),this},d.isValidModelFor=b,d.toString=function(b){var d="Model.Function("+a.args.map(function(a){return c(a,b)}).join(",")+")";return"return"in a&&(d+=".return("+c(a["return"])+")"),d},d.prototype=Object.create(Function.prototype),d.prototype.constructor=d,Object.setPrototypeOf(d,r.prototype),d},i.Function.prototype=Object.create(i.prototype),a.Model=i}(this);