// ObjectModel v2.3.1 - http://objectmodel.js.org
!function(a){function b(a,b){return b instanceof a}function c(a){return"function"==typeof a}function d(a){return"object"==typeof a}function e(a){return a&&d(a)&&Object.getPrototypeOf(a)===Object.prototype}function f(a){return{}.toString.call(a).match(/\s([a-zA-Z]+)/)[1]}function g(a){return Array.prototype.slice.call(a)}function h(a,b,c){Object.keys(b||{}).forEach(function(d){if(c&&e(b[d])){var f={};h(f,a[d],c),h(f,b[d],c),a[d]=f}else a[d]=b[d]})}function i(a,b,c,d){Object.defineProperty(a,b,{value:c,enumerable:d,writable:!0,configurable:!0})}function j(a,b){Object.setPrototypeOf(a,b[Q]),i(a,R,b)}function k(a,b){a[Q]=Object.create(b),a[Q][R]=a}function l(a,e){if(e=e||[],e.length>15||e.indexOf(a)>=0)return"...";if(null==a)return String(a);if("string"==typeof a)return'"'+a+'"';if(b(m,a))return a.toString(e);if(e=[a].concat(e),c(a))return a.name||a.toString(e);if(b(Array,a))return"["+a.map(function(a){return l(a,e)}).join(", ")+"]";if(a.toString!==Object.prototype.toString)return a.toString();if(a&&d(a)){var f=new Array(e.length).join("	"),g=Object.keys(a);return"{"+g.map(function(b){return"\n"+f+"	"+b+": "+l(a[b],e)}).join(",")+(g.length?"\n"+f:"")+"}"}return String(a)}function m(a){if(!n(a))return m[x](a);var b=function(a){return b[F](a),a};return o(b,a,m),b}function n(a){return"Object"!=f(a)}function o(a,b,c){j(a,c),a[C]=b,a[D]=a[D].slice(),i(a,N,[])}function p(a){if(n(a)){if(!b(Array,a))return[a];if(1===a.length)return a.concat(void 0,null)}else Object.keys(a).forEach(function(b){a[b]=p(a[b])});return a}function q(a,c,d,e,f){var g;if(b(m,c)){var h=e.indexOf(c);if(-1!==h&&-1!==e.slice(h+1).indexOf(c))return;return c[G](a,d,e.concat(c),f)}if(n(c)){for(var i=p(c),j=0,k=i.length;k>j;j++)if(r(a,i[j],d,e))return;g={},g[J]=c,g[K]=a,g[L]=d,f.push(g)}else Object.keys(c).forEach(function(b){var g=null!=a?a[b]:void 0;q(g,c[b],d?d+"."+b:b,e,f)})}function r(a,d,e,f){if(null==a)return a===d;if(!n(d)||b(m,d)){var g=[];return q(a,d,e,f,g),!g.length}return b(RegExp,d)?d[H](a):a===d||c(d)&&b(d,a)||a[R]===d}function s(a,b,c){void 0===c&&(c=b[N]);for(var d=0,e=b[D].length;e>d;d++){var f,g=b[D][d];try{f=g.call(b,a)}catch(a){f=a}if(f!==!0){var h={};h[M]=g[E].call(b,f,a),c.push(h)}}}function t(a,c,d,e){if(b(m,d)&&c&&!b(d,c))return d(c);if(b(Array,d)){for(var f=[],g=0,h=d.length;h>g;g++){var i=d[g];if(b(m,i)){if(b(i,c))return c;i.test(c)&&f.push(i)}}return 1===f.length?f[0](c):(f.length>1&&console.warn("Ambiguous model for value "+l(c)+", could be "+f.join(" or ")),c)}if(n(d))return c;var j=b(Object,c)?c:{},k=Object.create(Object.getPrototypeOf(j));for(var o in j)!j.hasOwnProperty(o)||o in d||(k[o]=j[o]);return Object.keys(d).forEach(function(b){var f=e?e+"."+b:b,g=m[A](b);Object.defineProperty(k,b,{get:function(){return t(a,j[b],d[b],f)},set:function(e){if(g&&void 0!==j[b]){var h={};h[M]="cannot redefine constant "+b,a[N].push(h)}var i=t(a,e,d[b],f);q(i,d[b],f,[],a[N]);var k=j[b];j[b]=i,s(c,a),a[N].length&&(j[b]=k,a[P]())},enumerable:!m[B](b)})}),k}function u(a,b,c,d){Object.defineProperty(a,c,{enumerable:!0,get:function(){return b[c]},set:function(a){w(b,c,a,d)}})}function v(a,b,c,d){return function(){var e=a.slice();if(Array[Q][b].apply(e,arguments),c[F](e),!W)for(var f in e)!e.hasOwnProperty(f)||f in d||u(d,a,f,c);return Array[Q][b].apply(a,arguments)}}function w(a,b,c,d){parseInt(b)===+b&&b>=0&&q(c,d[C],y+"["+b+"]",[],d[N]);var e=a.slice();e[b]=c,s(e,d),d[P](),a[b]=c}var x="Object",y="Array",z="Function",A="conventionForConstant",B="conventionForPrivate",C="definition",D="assertions",E="_onFail",F="validate",G="_validator",H="test",I="extend",J="expected",K="received",L="path",M="message",N="errorStack",O="errorCollector",P="unstack",Q="prototype",R="constructor",S="defaults",T="return",U="arguments",V=["pop","push","reverse","shift","sort","splice","unshift"],W=c(this.Proxy);"name"in Function.prototype&&"name"in function(){}||Object.defineProperty(Function.prototype,"name",{get:function(){var a=Function.prototype.toString.call(this).match(/\s*function\s+([^\(\s]*)\s*/);return a&&a[1]}}),!Object.setPrototypeOf&&b(Array,{__proto__:[]})&&(Object.setPrototypeOf=function(a,b){return a.__proto__=b,a}),k(m,Function[Q]);var X=m[Q];X.toString=function(a){return p(this[C]).map(function(b){return l(b,a)}).join(" or ")},X[D]=[],X[F]=function(a,b){this[G](a,null,[],this[N]),this[P](b)},X[H]=function(a){var b=[];return this[G](a,null,[],b),!b.length},X[I]=function(){var a,c,d=g(this[D]),e=g(arguments);b(m[x],this)?(a={},c={},h(a,this[C]),h(c,this[Q]),e.forEach(function(d){b(m,d)?(h(a,d[C],!0),h(c,d[Q],!0)):h(a,d,!0)})):a=e.reduce(function(a,b){return a.concat(p(b))},p(this[C])).filter(function(a,b,c){return c.indexOf(a)===b}),e.forEach(function(a){b(m,a)&&(d=d.concat(a[D]))});var f=new this[R](a);return k(f,this[Q]),h(f[Q],c),f[D]=d,f[O]=this[O],f},X.assert=function(a,b){b=b||l(a);var d=c(b)?b:function(a,c){return"assertion "+b+" returned "+l(a)+" for value "+l(c)};return i(a,E,d),this[D]=this[D].concat(a),this},X[O]=function(a){throw new TypeError(a.map(function(a){return a[M]}).join("\n"))},m[A]=function(a){return a.toUpperCase()===a},m[B]=function(a){return"_"===a[0]},i(X,G,function(a,b,c,d){q(a,this[C],b,c,d),s(a,this,d)}),i(X,P,function(a){if(this[N].length){a||(a=this[O]);var c=this[N].map(function(a){if(!a[M]){var c=b(Array,a[J])?a[J]:[a[J]];a[M]="expecting "+(a[L]?a[L]+" to be ":"")+c.map(function(a){return l(a)}).join(" or ")+", got "+(null!=a[K]?f(a[K])+" ":"")+l(a[K])}return a});this[N]=[],a.call(this,c)}}),m[x]=function(a){var c=function(a){if(!b(c,this))return new c(a);h(this,a,!0);var d=t(c,this,c[C]);return c[F](d),d};return k(c,Object[Q]),o(c,a,m[x]),c},k(m[x],X);var Y=m[x][Q];Y[S]=function(a){return h(this[Q],a),this},Y.toString=function(a){return l(this[C],a)},i(Y,G,function(a,b,c,e){if(d(a))q(a,this[C],b,c,e);else{var f={};f[J]=this,f[K]=a,f[L]=b,e.push(f)}s(a,this)}),m[y]=function(a){var b=function(a){var c;if(b[F](a),W)c=new Proxy(a,{get:function(a,c){return c===R?b:V.indexOf(c)>=0?v(a,c,b):a[c]},set:function(a,c,d){w(a,c,d,b)},getPrototypeOf:function(){return b[Q]}});else{c=Object.create(Array[Q]);for(var d in a)a.hasOwnProperty(d)&&u(c,a,d,b);Object.defineProperty(c,"length",{get:function(){return a.length}}),V.forEach(function(d){i(c,d,v(a,d,b,c))}),j(c,b)}return c};return k(b,Array[Q]),o(b,a,m[y]),b},k(m[y],m[Q]);var Z=m[y][Q];Z.toString=function(a){return y+" of "+l(this[C],a)},i(Z,G,function(a,c,d,e){if(b(Array,a))for(var f=0,g=a.length;g>f;f++)q(a[f],this[C],(c||y)+"["+f+"]",d,e);else{var h={};h[J]=this,h[K]=a,h[L]=c,e.push(h)}s(a,this)}),m[z]=function(){var a=function(b){var c=a[C],d=function(){var d=[];if(h(d,c[S]),h(d,g(arguments)),d.length>c[U].length){var e={};e[J]=l(b)+" to be called with "+c[U].length+" "+U,e[K]=d.length,a[N].push(e)}c[U].forEach(function(b,c){q(d[c],b,U+"["+c+"]",[],a[N])}),s(d,a);var f=b.apply(this,d);return T in c&&q(f,c[T],T+" value",[],a[N]),a[P](),f};return j(d,a),d};k(a,Function[Q]);var b={};return b[U]=g(arguments),o(a,b,m[z]),a},k(m[z],m[Q]);var $=m[z][Q];$.toString=function(a){var b=z+"("+this[C][U].map(function(b){return l(b,a)}).join(",")+")";return T in this[C]&&(b+=" => "+l(this[C][T])),b},$[T]=function(a){return this[C][T]=a,this},$[S]=function(){return this[C][S]=g(arguments),this},i($,G,function(a,b,d,e){if(!c(a)){var f={};f[J]=z,f[K]=a,f[L]=b,e.push(f)}}),a.Model=m}(this);